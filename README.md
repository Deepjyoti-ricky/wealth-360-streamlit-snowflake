## Wealth 360 Streamlit (Snowflake)\n\nStreamlit application for BFSI analytics, built to run natively in Streamlit in Snowflake using Snowpark. It connects to `FSI_DEMOS.WEALTH_360` and provides dashboards for wealth management use cases.\n\n### Highlights\n- Snowpark-first: uses `get_active_session()` when running in Snowflake; falls back to secrets locally\n- Production-ready tabs and KPIs for: HNW retention, advisor productivity, portfolio performance, compliance & risk, market events impact, and digital engagement\n- Uses verified SQL patterns from the semantic model (e.g., ASOF JOIN with MATCH_CONDITION for history lookups)\n\n### Data Model\nThe app expects the following tables in `FSI_DEMOS.WEALTH_360` (from the provided semantic model):\n- `CLIENTS` (demographics, goals, risk profile, net worth)\n- `ADVISORS` (name, specialization, region, experience)\n- `ADVISOR_CLIENT_RELATIONSHIPS` (status, start date, last contact)\n- `ACCOUNTS`, `ACCOUNT_HISTORY` (banking balances)\n- `PORTFOLIOS` (strategy, creation, rebalance)\n- `POSITION_HISTORY` (TIMESTAMP, TICKER, ASSET_CLASS, QUANTITY, UNIT_PRICE, MARKET_VALUE)\n- `TRANSACTIONS` (portfolio activity)\n- `MARKET_EVENTS` (start/end windows to contextualize performance)\n\n### App Features (Tabs)\n- Overview: Clients, Advisors, Firm AUM (latest), YTD growth, and allocation breakdown\n- HNW Retention: High net worth, low-engagement clients with adjustable thresholds\n- Advisor Productivity: AUM, client count, portfolio count, and recent interactions per advisor\n- Portfolio Performance: Firm-level YTD performance and latest allocation\n- Compliance & Risk: suitability mismatches and concentration breaches\n- Market Events Impact: AUM change by predefined market event periods (ASOF join logic)\n- Digital Engagement: interactions by channel/type, complaints trend, and top clients by interactions\n\n### Running in Streamlit in Snowflake\nNo credentials are required; the app uses the active Snowflake session. Optionally set context overrides in Snowsight secrets:\n\n```\n[SNOWFLAKE]\nDATABASE = "FSI_DEMOS"\nSCHEMA   = "WEALTH_360"\nWAREHOUSE = "COMPUTE_WH"\nROLE = "ACCOUNTADMIN"\n```\n\n### Running Locally (Optional)\n1) Create a virtual environment and install dependencies\n```\npython3 -m venv .venv\nsource .venv/bin/activate\npip install -r requirements.txt\n```\n\n2) Configure secrets: copy `.streamlit/secrets.example.toml` to `.streamlit/secrets.toml` and fill values\n```\n[SNOWFLAKE]\nUSER = "your_user"\nPASSWORD = "your_password"\nACCOUNT = "xy12345.us-east-1"\nWAREHOUSE = "COMPUTE_WH"\nDATABASE = "FSI_DEMOS"\nSCHEMA = "WEALTH_360"\nROLE = "ACCOUNTADMIN"\n```\n\n3) Run the app\n```\nstreamlit run streamlit_app.py\n```\n\n### Tech Stack\n- Python, Streamlit, Plotly\n- Snowflake Snowpark (SQL pushdown via `session.sql(...).to_pandas()`)\n\n### Roadmap\n- Advisor- and client-level drilldowns with filters\n- Role-aware filtering (auto-scope results by `current_role()`/region)\n- GitHub Actions: lint + import checks\n- Optional Dockerfile for external deployments\n\n### Security\n- `.streamlit/secrets.toml` is git-ignored\n- Only the example secrets file is committed\n\n### License\nApache-2.0 (update if you prefer a different license)
